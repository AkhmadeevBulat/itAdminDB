# itAdminDB
Личный проект для КазаньЭкспо. Решаю проблему с паролями, так как они хранятся не безопасно.

Программа должна безопасно, с резервным копированием, хранить на сервере логины и пароли.

# Source: https://github.com/AkhmadeevBulat/itAdminDB

<b>Проект еще в работе. Документация будет написана позже.</b>

# Резервное копирование в серверной части

Было создано два сервера (linux): Основной и дополнительный для резервного копирования.

В основном развернут MySQL сервер. В нем хранятся все нужные для нашего отдела базы.

В дополнительном сервере воспроизводится скрипт каждый день, с помощью cron, в 3:00 (по факту в 6:00 - пока не знаю почему).
Для работы скрипта директория должна выглядеть следующим образом:

    |../dump/
    |../scripts/dump.py
    |../scripts/settings.py

Если нужно скрипт сам создает нужную ему директорию.

В файле settings.py должны быть следующие переменные:
1) __dbServer = 'IP-адрес сервера'__
2) __port = Порт сервера MySQL__
3) __dbDataBases = ['База', 'База']__
4) __charset = 'Кодировка'__
5) __dbUser = 'Логин сервера MySQL'__
6) __dbPassword = 'Пароль сервера MySQL'__
7) __expirationDate = Количество дней последнего резервного копирования__

# Программа CMD (пока очень сырой)

Программа CDM для работы с таблицами базы MySQL.

Реализует доступ к чтению и изменению таблиц выбранной базы, с проверкой пользователя, который запустил программу, через
Active Directory (ldap). Для чтения пользователей, для программы, был создан пользователь без прав. Этого достаточно,
чтобы программа читала членство пользователей в группах.
Для доступа к программе в AD была создана группа, по которой программа проверяет пользователя.
Если пользователь не входит в группу заданной программой, то программа запрещает дальнейшее использование его функций и 
выключается.

В папке с программой должен быть файл: __setting.ini__. Если его нет, то скрипт сам создает его.

В файле __settings.ini__ должны быть следующие переменные:

[PARAMETERS]
1) IP-адрес сервера;

__AD_SERVER=10.10.10.10__
2) Логин и пароль пользователя AD для подключения к AD. Ему не нужны ни какие права;

__AD_USER=user__

__AD_PASSWORD=password__

3) Папка, где будет производится поиск, в формате: ou=path,dc=domen,dc=com;

__PATH=ou=path,dc=example,dc=com__

4) Группа, с которым будет производится сравнения и давать доступ;

__D_ADMIN_GROUP=group__

5) IP-адрес сервера базы данных

__DB_SERVER=10.10.10.10__

6) Порт базы данных

__PORT=1111__

7) Имя базы данных

__DB_DATABASE=nameDatabase__

8) Кодировка базы данных

__CHARSET=utf-8__

9) Логин и пароль пользователя базы данных

__DB_USER=user__

__DB_PASSWORD=password__


# Пока все!
